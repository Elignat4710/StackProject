webpackJsonp([1],{E51W:function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=o("VU/8")({name:"App"},a,!1,function(t){o("gsu9")},null,null).exports,s=o("/ocq"),i=o("7t+N"),l=o.n(i),m={name:"Home",computed:{auth:function(){if(sessionStorage.getItem("token"))return!0}},methods:{goLogin:function(){this.$router.push({name:"login"})},goReg:function(){this.$router.push({name:"registration"})},logout:function(){l.a.ajax({url:"http://127.0.0.1:8000/rest-auth/logout/",type:"GET",success:function(t){sessionStorage.removeItem("token"),window.location="/"}})}}},u={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("mu-container",[o("mu-appbar",{staticStyle:{width:"100%"},attrs:{color:"primary"}},[t._v("\n            StackProject\n            "),t.auth?t._e():o("mu-button",{attrs:{slot:"right",flat:""},on:{click:t.goLogin},slot:"right"},[t._v("Login")]),t._v(" "),t.auth?o("mu-button",{attrs:{slot:"right",flat:""},on:{click:t.logout},slot:"right"},[t._v("Log out")]):o("mu-button",{attrs:{slot:"right",flat:""},on:{click:t.goReg},slot:"right"},[t._v("Sign-up")])],1)],1)},staticRenderFns:[]},c=o("VU/8")(m,u,!1,null,null,null).exports,d={name:"Google",data:function(){return{googleSignInParams:{client_id:"559920722496-ic02pjffmjq267e84pggsjhtb0vhq6ls.apps.googleusercontent.com"}}},methods:{onGoogleSignInSuccess:function(t){var e=this;console.log(t);var o=t.uc.access_token;console.log(o),l.a.ajax({url:"http://127.0.0.1:8000/user/auth/google/",type:"POST",data:{access_token:o},success:function(t){console.log(t),sessionStorage.setItem("token",t.token),alert("auth success!"),e.$router.push({name:"home"})},error:function(t){console.log(t)}})}}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("g-signin-button",{attrs:{params:this.googleSignInParams},on:{success:this.onGoogleSignInSuccess}},[e("mu-button",{staticClass:"btn btn-block btn-success"},[this._v("\n          Google\n        ")])],1)},staticRenderFns:[]},g=o("VU/8")(d,p,!1,null,null,null).exports,f={name:"Login",components:{Home:c,Google:g},data:function(){return{validateForm:{login:"",password:""},googleSignInParams:{client_id:"559920722496-ic02pjffmjq267e84pggsjhtb0vhq6ls.apps.googleusercontent.com"}}},methods:{setLogin:function(){var t=this;l.a.ajax({url:"http://127.0.0.1:8000/rest-auth/login/",type:"POST",data:{username:this.validateForm.login,password:this.validateForm.password},success:function(e){console.log(e),sessionStorage.setItem("token",e.token),t.$router.push({name:"home"})}})}}},v={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("mu-container",[o("mu-row",[o("home")],1),t._v(" "),o("mu-container",[o("mu-form",{ref:"form",staticClass:"mu-demo-form",attrs:{model:t.validateForm}},[o("mu-form-item",{attrs:{label:"Login"}},[o("mu-text-field",{model:{value:t.validateForm.login,callback:function(e){t.$set(t.validateForm,"login",e)},expression:"validateForm.login"}})],1),t._v(" "),o("mu-form-item",{attrs:{label:"Password"}},[o("mu-text-field",{attrs:{type:"password"},model:{value:t.validateForm.password,callback:function(e){t.$set(t.validateForm,"password",e)},expression:"validateForm.password"}})],1),t._v(" "),o("mu-form-item",[o("mu-button",{attrs:{color:"primary"},on:{click:t.setLogin}},[t._v("Log in")])],1),t._v(" "),o("mu-form-item",[o("Google")],1)],1)],1)],1)},staticRenderFns:[]};var h=o("VU/8")(f,v,!1,function(t){o("etSz")},"data-v-9f397b22",null).exports,_={name:"Registration",components:{Home:c,Google:g},data:function(){return{validateForm:{login:"",email:"",password1:"",password2:""},LinkedInParam:{client_id:"86x3tsdy42o73h"}}},methods:{regUser:function(){l.a.ajax({url:"http://127.0.0.1:8000/rest-auth/registration/",type:"POST",data:{username:this.validateForm.login,email:this.validateForm.email,password1:this.validateForm.password1,password2:this.validateForm.password2},success:function(t){alert("Success!"),window.location="/"},error:function(t){}})},LinkedInSignIn:function(t){}}},w={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("mu-container",[o("mu-container",[o("home")],1),t._v(" "),o("mu-form",{ref:"form",staticClass:"mu-demo-form",attrs:{model:t.validateForm}},[o("mu-form-item",{attrs:{label:"Display name"}},[o("mu-text-field",{model:{value:t.validateForm.login,callback:function(e){t.$set(t.validateForm,"login",e)},expression:"validateForm.login"}})],1),t._v(" "),o("mu-form-item",{attrs:{label:"Email"}},[o("mu-text-field",{attrs:{type:"email"},model:{value:t.validateForm.email,callback:function(e){t.$set(t.validateForm,"email",e)},expression:"validateForm.email"}})],1),t._v(" "),o("mu-form-item",{attrs:{label:"Password"}},[o("mu-text-field",{attrs:{type:"password"},model:{value:t.validateForm.password1,callback:function(e){t.$set(t.validateForm,"password1",e)},expression:"validateForm.password1"}})],1),t._v(" "),o("mu-form-item",{attrs:{label:"Confirm password"}},[o("mu-text-field",{attrs:{type:"password"},model:{value:t.validateForm.password2,callback:function(e){t.$set(t.validateForm,"password2",e)},expression:"validateForm.password2"}})],1),t._v(" "),o("mu-form-item",[o("mu-button",{attrs:{color:"primary"},on:{click:t.regUser}},[t._v("Sign in")])],1),t._v(" "),o("mu-form-item",[o("Google")],1),t._v(" "),o("mu-form-item",[o("mu-button",{attrs:{params:t.LinkedInParam,color:"primary"},on:{click:t.LinkedInSignIn}},[t._v("\n            LinkedIn\n            ")])],1)],1)],1)},staticRenderFns:[]},F=o("VU/8")(_,w,!1,null,null,null).exports,b={name:"ConfirmEmail",created:function(){this.redirect()},methods:{redirect:function(){alert("Confirm email success"),window.location="/"}}},k={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},S=o("VU/8")(b,k,!1,null,null,null).exports;n.a.use(s.a);var x=new s.a({routes:[{path:"/",name:"home",component:c},{path:"/login",name:"login",component:h},{path:"/registration",name:"registration",component:F},{path:"/confirm_email",name:"confirm_email",component:S}]}),y=o("fSYm"),I=o.n(y),$=o("aFc6");o("E51W");n.a.use($.a),n.a.use(I.a),n.a.config.productionTip=!1,new n.a({el:"#app",router:x,components:{App:r},template:"<App/>"})},etSz:function(t,e){},gsu9:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.3e2d913efcdc32f4e511.js.map